<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Random Quote Widget (made with React)</title>

  <!-- Babel for using JSX -->
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <!-- React Development-->
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <!-- React Production -->
    <!-- <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script> -->



</head>
<body>
<!-- partial:index.partial.html -->
<script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>

<!-- FreeCodeCamp test suite only works in Chrome. Please read the README for more details. -->
<!-- partial -->


  <div id="app">
    <!-- React app will be injected here. -->
  </div>

  <script src="./script.js"></script>

  <script type="module">
    // Import quotes from separate file.
    // Module import works only through a local server due to CORS restrictions. So use this e.g.:
    // python -m SimpleHTTPServer 8000
    // or
    // php -S localhost:8000

    import { quotes } from './quotes.js';
    window.DATA_QUOTES = quotes();

    // console.log("First quote is '" + window.DATA_QUOTES["quotes"][0].quote + "' by " + window.DATA_QUOTES["quotes"][0].author + ".");
  </script>

  <script type="text/babel">

    const QUOTES = window.DATA_QUOTES["quotes"];
    const QUOTES_TOTAL = window.DATA_QUOTES["quotes"].length;
    // console.log("The second quote is '" + QUOTES[1].quote + "' by " + QUOTES[1].author + ".");

    (function () {
      'use strict';

      class App extends React.Component {
        constructor(props) {
          super(props);
          this.state = { liked: false };
        }

        render() {
          if (this.state.liked) {
            return 'You liked this.';
          }

          return (
            <div id="quote-box">
              <div id="text">
                {/* quotes are injected here */}
                Quote
              </div>
              <div id="author">
                {/* quote author's name is injected here */}
                Author
              </div>
              <a className="button" id="tweet-quote">Tweet quote</a>
              <button onClick={() => displayRandomQuote()} className="button" id="new-quote">New quote</button>
              <a className="button" id="like-quote">Like quote</a>
              <button onClick={() => this.setState({ liked: true })}>
                <SimpleIcon /> Like
              </button>
            </div>
          );
        }
      }

      let domContainer = document.querySelector('#app');
      ReactDOM.render(<App />, domContainer);

      function SimpleIcon () {
        return (
          <em> 
            -X- 
          </em>
        );
      }

    }());

    function displayRandomQuote () {
        const RANDOM_QUOTE_NUMBER = Math.floor(Math.random() * QUOTES_TOTAL);
        document.getElementById('text').innerText = QUOTES[RANDOM_QUOTE_NUMBER].quote;
        document.getElementById('author').innerText = QUOTES[RANDOM_QUOTE_NUMBER].author;
    }

    displayRandomQuote();

  </script>
</body>
</html>
